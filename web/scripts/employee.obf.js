const _0x2c1e93=_0x535a;function _0x11c9(){const _0x38f27d=['210jIbLxh','active','Cập\x20nhật\x20thất\x20bại','position','#btnFilter','addEventListener','modalEmpDetail','.toast-body','https://ui-avatars.com/api/?name=Avatar','bg-warning\x20text-dark','bg-secondary','#modalnhanvien\x20select[name=\x22ten_phong_ban\x22]','GET','success','Xác\x20nhận\x20xoá?','#modalEmpDetail\x20.emp-dept','toastSuccess','fire','Quản\x20lý','#empPhone','ngay_vao_lam','.edit-emp-btn','#toastError','#menuloc\x20select[name=\x22ten_phong_ban\x22]','name','Thêm\x20mới\x20thành\x20công','submit','User','#modalEmpDetail\x20.emp-status','addClass','password','avatar','Xoá','type','11839560COkmxp','./themNhanvien','#employeeForm','#empStatus','remove','./locNhanvien','#searchName','bg-danger','#empDetailTab\x20.nav-link','removeClass','toastError','#filterStatus','#employeeTableBody','ajax','./xoaNhanvien','498423fumJYV','Modal','hide','html','#filterDepartment','gender','.toast','216248SHfzdo','phone','preventDefault','#empRole','data','.emp-detail-link','Nhân\x20viên','avatar_url','833733SqyGsy','trim','#empPosition','bg-success\x20bg-warning\x20bg-danger\x20bg-secondary','querySelector','#empDepartment','getOrCreateInstance','src','phong-ban-id','67685wFdxyd','modal','email','Toast','val','status','startdate','vai_tro','#empDetailTabContent\x20.tab-pane','#empId','trưởng\x20phòng','#empPassword','toggleClass','#togglePassword','Cập\x20nhật\x20thành\x20công','Huỷ','click','gioi_tinh','fa-eye\x20fa-eye-slash','phongBanLoaded','reload','#modalEmployee','1464488KEeRrL','show\x20active','then','Admin','https://ui-avatars.com/api/?name=','ngay_sinh','./chitietNV','282972tZodcM','toLowerCase','POST','#empStartDate','text','role','disabled','serialize','Nghỉ\x20việc','#modalEmpDetail\x20.emp-birth','trang_thai_lam_viec','birth','#filterRole','warning','#modalEmpDetail\x20.emp-start','#empName','closest','bg-danger\x20text-white','pass','ho_ten','<option\x20value=\x22\x22\x20selected>Tất\x20cả\x20phòng\x20ban</option>','prop','show','json','9glxcEa','getElementById','error','toast','#avatarPreview','#modalEmpDetail\x20.emp-gender','Thêm\x20mới\x20thất\x20bại','ten_phong_ban','#toastSuccess','textContent','#empAvatar','attr','querySelectorAll','14nRHsdR','bg-info\x20text-dark'];_0x11c9=function(){return _0x38f27d;};return _0x11c9();}(function(_0x5eb639,_0x3f5a0e){const _0x46c32d=_0x535a,_0x2c9a9e=_0x5eb639();while(!![]){try{const _0x373e13=-parseInt(_0x46c32d(0x127))/0x1+parseInt(_0x46c32d(0xcf))/0x2*(parseInt(_0x46c32d(0xe7))/0x3)+-parseInt(_0x46c32d(0xc8))/0x4+parseInt(_0x46c32d(0xb2))/0x5*(-parseInt(_0x46c32d(0xf6))/0x6)+parseInt(_0x46c32d(0xf4))/0x7*(-parseInt(_0x46c32d(0x12e))/0x8)+parseInt(_0x46c32d(0x136))/0x9+parseInt(_0x46c32d(0x118))/0xa;if(_0x373e13===_0x3f5a0e)break;else _0x2c9a9e['push'](_0x2c9a9e['shift']());}catch(_0x2c9f57){_0x2c9a9e['push'](_0x2c9a9e['shift']());}}}(_0x11c9,0x4b5a9));function openAddModal(){const _0x578c01=_0x535a;$(_0x578c01(0x11a))[0x0]['reset'](),$(_0x578c01(0xbb))[_0x578c01(0xb6)](''),$(_0x578c01(0xeb))[_0x578c01(0xf2)](_0x578c01(0x13d),_0x578c01(0xfe)),$('#modalEmployee')[_0x578c01(0xb3)](_0x578c01(0xe5));}document[_0x2c1e93(0xfb)]('DOMContentLoaded',function(){const _0x2ad0b1=_0x2c1e93;fetch('./apiPhongban')[_0x2ad0b1(0xca)](_0x139381=>_0x139381[_0x2ad0b1(0xd3)]())[_0x2ad0b1(0xca)](_0x24fb5d=>{const _0x373344=_0x2ad0b1,_0xcaa806=_0x373344(0xe3),_0x3dd945=_0xcaa806+_0x24fb5d;$(_0x373344(0x10d))[_0x373344(0x12a)](_0x3dd945),$(_0x373344(0x101))['html'](_0x24fb5d),window['phongBanLoaded']=!![];});}),$(_0x2c1e93(0xfa))['on'](_0x2c1e93(0xc2),function(){const _0x4a1c83=_0x2c1e93,_0x5b13a4=$(_0x4a1c83(0x11e))[_0x4a1c83(0xb6)](),_0x25cd38=$(_0x4a1c83(0x12b))[_0x4a1c83(0xb6)](),_0x198023=$(_0x4a1c83(0x123))['val'](),_0x36b774=$(_0x4a1c83(0xdb))[_0x4a1c83(0xb6)]();$['ajax']({'url':_0x4a1c83(0x11d),'type':_0x4a1c83(0xd1),'data':{'keyword':_0x5b13a4,'phong_ban':_0x25cd38,'trang_thai':_0x198023,'vai_tro':_0x36b774},'success':function(_0x47579c){const _0x3ac69f=_0x4a1c83;$(_0x3ac69f(0x124))[_0x3ac69f(0x12a)](_0x47579c);},'error':function(){const _0x545ddb=_0x4a1c83;$(_0x545ddb(0x124))['html']('<tr><td\x20colspan=\x2713\x27\x20class=\x27text-danger\x20text-center\x27>Lỗi\x20khi\x20lọc\x20dữ\x20liệu</td></tr>');}});}),$('#searchName,\x20#filterDepartment,\x20#filterStatus,\x20#filterRole')['on']('input\x20change',function(){});function getBadgeClass(_0x4cdeb){const _0x215f1a=_0x2c1e93;switch(_0x4cdeb){case'Đang\x20làm':return'bg-success';case'Tạm\x20nghỉ':return _0x215f1a(0xff);case _0x215f1a(0xd7):return _0x215f1a(0x11f);default:return _0x215f1a(0x100);}}function getRoleClass(_0x3e56c0){const _0x59d15d=_0x2c1e93;switch(_0x3e56c0){case _0x59d15d(0xcb):return _0x59d15d(0xe0);case _0x59d15d(0x108):return _0x59d15d(0xff);case _0x59d15d(0x134):return _0x59d15d(0xf5);default:return _0x59d15d(0x100);}}function _0x535a(_0x4dd4ee,_0xedd2ea){const _0x11c907=_0x11c9();return _0x535a=function(_0x535a95,_0x2c5b26){_0x535a95=_0x535a95-0xb1;let _0x4fc461=_0x11c907[_0x535a95];return _0x4fc461;},_0x535a(_0x4dd4ee,_0xedd2ea);}$(document)['on'](_0x2c1e93(0xc2),_0x2c1e93(0x133),function(_0x526be7){const _0x18b956=_0x2c1e93;_0x526be7[_0x18b956(0x130)]();const _0x584a76=$(this)[_0x18b956(0x132)](_0x18b956(0xb4));$[_0x18b956(0x125)]({'url':_0x18b956(0xce),'method':_0x18b956(0x102),'data':{'email':_0x584a76},'dataType':_0x18b956(0xe6),'success':function(_0x18069b){const _0x1b55e2=_0x18b956;$('#modalEmpDetail\x20.emp-name')['text'](_0x18069b['ho_ten']),$('#modalEmpDetail\x20.emp-email')[_0x1b55e2(0xd3)](_0x18069b['email']),$('#modalEmpDetail\x20.emp-phone')[_0x1b55e2(0xd3)](_0x18069b['so_dien_thoai']),$(_0x1b55e2(0xec))[_0x1b55e2(0xd3)](_0x18069b[_0x1b55e2(0xc3)]),$(_0x1b55e2(0xd8))['text'](_0x18069b[_0x1b55e2(0xcd)]),$(_0x1b55e2(0x105))[_0x1b55e2(0xd3)](_0x18069b[_0x1b55e2(0xee)]),$('#modalEmpDetail\x20.emp-position')[_0x1b55e2(0xd3)](_0x18069b['chuc_vu']),$(_0x1b55e2(0xdd))[_0x1b55e2(0xd3)](_0x18069b[_0x1b55e2(0x10a)]);const _0x1d1782=_0x18069b[_0x1b55e2(0x135)]&&_0x18069b[_0x1b55e2(0x135)][_0x1b55e2(0x137)]()!==''?_0x18069b[_0x1b55e2(0x135)]:_0x1b55e2(0xcc)+encodeURIComponent(_0x18069b[_0x1b55e2(0xe2)]||_0x1b55e2(0x111));$('#modalEmpDetail\x20#avatarPreview')['attr'](_0x1b55e2(0x13d),_0x1d1782);const _0xb1d984=getBadgeClass(_0x18069b[_0x1b55e2(0xd9)]);$(_0x1b55e2(0x112))[_0x1b55e2(0xd3)](_0x18069b[_0x1b55e2(0xd9)])[_0x1b55e2(0x121)](_0x1b55e2(0x139))[_0x1b55e2(0x113)](_0xb1d984);const _0x563f9b=getRoleClass(_0x18069b[_0x1b55e2(0xb9)]);$('#modalEmpDetail\x20.emp-role')[_0x1b55e2(0xd3)](_0x18069b[_0x1b55e2(0xb9)])['removeClass']('bg-danger\x20bg-warning\x20bg-info\x20bg-secondary\x20text-white\x20text-dark')[_0x1b55e2(0x113)](_0x563f9b),$(_0x1b55e2(0x120))[_0x1b55e2(0x121)](_0x1b55e2(0xf7)),$(_0x1b55e2(0xba))[_0x1b55e2(0x121)](_0x1b55e2(0xc9)),$('#tab-info')[_0x1b55e2(0x113)](_0x1b55e2(0xf7)),$('#tabInfo')[_0x1b55e2(0x113)]('show\x20active');const _0x49c33a=new bootstrap[(_0x1b55e2(0x128))](document[_0x1b55e2(0xe8)](_0x1b55e2(0xfc)));_0x49c33a['show']();},'error':function(){const _0x2e6f7f=_0x18b956;showToast(_0x2e6f7f(0xe9),'Không\x20thể\x20tải\x20chi\x20tiết\x20nhân\x20viên');}});}),$(document)['on'](_0x2c1e93(0xc2),_0x2c1e93(0xbf),function(){const _0x47d700=_0x2c1e93,_0x2cb410=$(_0x47d700(0xbd)),_0x256bbb=_0x2cb410[_0x47d700(0xf2)](_0x47d700(0x117))==='password'?'text':_0x47d700(0x114);_0x2cb410[_0x47d700(0xf2)](_0x47d700(0x117),_0x256bbb),$(this)[_0x47d700(0xbe)](_0x47d700(0xc4));}),$(document)['on'](_0x2c1e93(0xc2),_0x2c1e93(0x10b),function(){const _0x7c9566=_0x2c1e93,_0x30efff=$(this),_0xcc1806=_0x30efff[_0x7c9566(0x132)](_0x7c9566(0xb1));function _0x5c073d(){const _0x1aa8a1=_0x7c9566;$(_0x1aa8a1(0xbb))[_0x1aa8a1(0xb6)](_0x30efff[_0x1aa8a1(0x132)]('id')),$(_0x1aa8a1(0xde))[_0x1aa8a1(0xb6)](_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0x10e))),$('#empEmail')[_0x1aa8a1(0xb6)](_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0xb4))),$(_0x1aa8a1(0xbd))[_0x1aa8a1(0xb6)](_0x30efff['data'](_0x1aa8a1(0xe1))),$(_0x1aa8a1(0x109))[_0x1aa8a1(0xb6)](_0x30efff['data'](_0x1aa8a1(0x12f))),$('#empGender')['val'](_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0x12c))),$('#empBirth')[_0x1aa8a1(0xb6)](_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0xda))),$(_0x1aa8a1(0xd2))['val'](_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0xb8))),$(_0x1aa8a1(0x13b))['val'](_0xcc1806),$(_0x1aa8a1(0x138))[_0x1aa8a1(0xb6)](_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0xf9))),$(_0x1aa8a1(0x11b))[_0x1aa8a1(0xb6)](_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0xb7))),$(_0x1aa8a1(0x131))[_0x1aa8a1(0xb6)](_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0xd4))),$(_0x1aa8a1(0xf1))[_0x1aa8a1(0xb6)](_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0x115)));const _0xf71f7=_0x30efff[_0x1aa8a1(0x132)](_0x1aa8a1(0x115))||_0x1aa8a1(0xcc)+encodeURIComponent(_0x30efff['data'](_0x1aa8a1(0x10e)));$(_0x1aa8a1(0xeb))[_0x1aa8a1(0xf2)]('src',_0xf71f7),$(_0x1aa8a1(0xc7))[_0x1aa8a1(0xb3)](_0x1aa8a1(0xe5));}CURRENT_USER_CHUCVU[_0x7c9566(0xd0)]()['includes'](_0x7c9566(0xbc))?$('#empRole')[_0x7c9566(0xe4)](_0x7c9566(0xd5),!![]):$(_0x7c9566(0x131))[_0x7c9566(0xe4)](_0x7c9566(0xd5),![]);if(window[_0x7c9566(0xc5)])_0x5c073d();else{const _0x5130cf=setInterval(()=>{window['phongBanLoaded']&&(clearInterval(_0x5130cf),_0x5c073d());},0x64);}}),$(document)['on']('click','.delete-emp-btn',function(){const _0x484f81=_0x2c1e93,_0x39c49e=$(this)[_0x484f81(0x132)]('id'),_0x3ba7eb=$(this)[_0x484f81(0xdf)]('tr');Swal[_0x484f81(0x107)]({'title':_0x484f81(0x104),'icon':_0x484f81(0xdc),'showCancelButton':!![],'confirmButtonText':_0x484f81(0x116),'cancelButtonText':_0x484f81(0xc1)})[_0x484f81(0xca)](_0x409c0a=>{const _0x4ce50c=_0x484f81;_0x409c0a['isConfirmed']&&$[_0x4ce50c(0x125)]({'url':_0x4ce50c(0x126),'method':'POST','data':{'id':_0x39c49e},'success':function(_0x5df5ad){const _0x120f36=_0x4ce50c;if(_0x5df5ad[_0x120f36(0xb7)]==='ok'){const _0x5bb9f1=bootstrap[_0x120f36(0xb5)]['getOrCreateInstance'](document['getElementById'](_0x120f36(0x106)));_0x5bb9f1[_0x120f36(0xe5)](),_0x3ba7eb[_0x120f36(0x11c)]();}else{const _0x3f490e=bootstrap['Toast'][_0x120f36(0x13c)](document[_0x120f36(0xe8)](_0x120f36(0x122)));_0x3f490e[_0x120f36(0xe5)]();}},'error':function(){const _0x220132=_0x4ce50c;$(_0x220132(0x10c))['toast'](_0x220132(0xe5));}});});}),$('#employeeForm')['on'](_0x2c1e93(0x110),function(_0x2d5a66){const _0x588985=_0x2c1e93;_0x2d5a66[_0x588985(0x130)](),$(_0x588985(0xc7))[_0x588985(0xb3)](_0x588985(0x129)),$(_0x588985(0xef))[_0x588985(0xea)](_0x588985(0xe5));}),document[_0x2c1e93(0xf3)](_0x2c1e93(0x12d))['forEach'](_0x34bf6c=>{const _0x5042bd=_0x2c1e93,_0x565d57=bootstrap[_0x5042bd(0xb5)][_0x5042bd(0x13c)](_0x34bf6c,{'delay':0x7d0});}),$(_0x2c1e93(0xf1))['on']('input',function(){const _0x48d640=_0x2c1e93;$('#avatarPreview')[_0x48d640(0xf2)]('src',$(this)[_0x48d640(0xb6)]()||_0x48d640(0xfe));}),$('#employeeForm')['on'](_0x2c1e93(0x110),function(_0x4d5969){const _0x11ba02=_0x2c1e93;_0x4d5969['preventDefault']();const _0x428c05=$(_0x11ba02(0xbb))['val'](),_0x20d753=$(this)[_0x11ba02(0xd6)](),_0x52a56d=_0x428c05?'./dsnhanvien':_0x11ba02(0x119);$['ajax']({'url':_0x52a56d,'type':'POST','data':_0x20d753,'success':function(_0x444b44){const _0xb69d05=_0x11ba02;$('#modalEmployee')[_0xb69d05(0xb3)](_0xb69d05(0x129)),showToast(_0xb69d05(0x103),_0x428c05?_0xb69d05(0xc0):_0xb69d05(0x10f)),location[_0xb69d05(0xc6)]();},'error':function(){const _0xc16800=_0x11ba02;showToast(_0xc16800(0xe9),_0x428c05?_0xc16800(0xf8):_0xc16800(0xed));}});});function showToast(_0x3ac3bf,_0x491fc3){const _0x1235f5=_0x2c1e93,_0x3e358f=_0x3ac3bf===_0x1235f5(0x103)?_0x1235f5(0x106):_0x1235f5(0x122),_0x42002f=document['getElementById'](_0x3e358f);_0x42002f[_0x1235f5(0x13a)](_0x1235f5(0xfd))[_0x1235f5(0xf0)]=_0x491fc3;const _0x52f317=bootstrap[_0x1235f5(0xb5)][_0x1235f5(0x13c)](_0x42002f,{'delay':0x9c4});_0x52f317[_0x1235f5(0xe5)]();}